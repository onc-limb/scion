# createサブコマンド実装TODO

## コマンド基本実装
- [ ] createコマンドのハンドラー実装
- [ ] 引数パーサーの実装（ブランチ名の取得）
- [ ] フラグの実装
  - [ ] `--base`フラグ（ベースブランチ指定）
  - [ ] `--remote`フラグ（リモート指定）
  - [ ] `--force`フラグ（強制上書き）
  - [ ] `--help`フラグ

## 前提条件チェック
- [ ] Gitリポジトリチェック機能
  - [ ] `.git`ディレクトリの存在確認
  - [ ] `git rev-parse --show-toplevel`でルート取得
- [ ] Git Worktree機能の利用可能性チェック
- [ ] ブランチ名バリデーション
  - [ ] Gitの命名規則チェック
  - [ ] 特殊文字のエスケープ処理

## ディレクトリ管理
- [ ] リポジトリルートの取得処理
- [ ] 親ディレクトリパスの計算
- [ ] `wtree`ディレクトリの存在チェック
- [ ] `wtree`ディレクトリの作成処理
- [ ] ディレクトリ作成権限チェック
- [ ] カスタムディレクトリ名のサポート（設定ファイルから読み込み）

## Git Worktree操作
- [ ] `git worktree list`の実行と解析
- [ ] 既存worktreeのチェック
- [ ] `git worktree add`コマンドの実行
  - [ ] コマンド引数の組み立て
  - [ ] エラーハンドリング
- [ ] リモートブランチからの作成対応
- [ ] ベースブランチの切り替え処理

## 強制モード実装
- [ ] 既存worktreeの検出
- [ ] `--force`フラグ時の処理
  - [ ] 既存worktreeの削除
  - [ ] 再作成処理
- [ ] 警告メッセージの表示

## 設定連携
- [ ] 設定ファイルからのデフォルト値読み込み
  - [ ] base_repository
  - [ ] base_branch
  - [ ] base_dir
  - [ ] default_remote
- [ ] フラグによる設定の上書き（優先順位管理）

## 出力・ユーザーインターフェース
- [ ] 進行状況メッセージの表示
- [ ] 成功メッセージのフォーマット
- [ ] エラーメッセージのフォーマット
- [ ] カラー出力の実装（設定で制御可能）
- [ ] 作成されたworktreeパスの表示

## エラーハンドリング
- [ ] ブランチ名重複エラー
- [ ] ディレクトリ作成失敗エラー
- [ ] Git Worktreeコマンド失敗エラー
- [ ] 権限不足エラー
- [ ] リモート接続エラー

## テスト
- [ ] 正常系のテスト
  - [ ] 新規worktree作成
  - [ ] カスタムベースブランチ指定
- [ ] 異常系のテスト
  - [ ] 既存ブランチエラー
  - [ ] 権限不足エラー
- [ ] 強制モードのテスト
- [ ] モックを使用したGitコマンドのテスト